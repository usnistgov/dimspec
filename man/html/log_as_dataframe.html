<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Pull a log file into an R object</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R-help.css" />
</head><body>

<table width="100%" summary="page for log_as_dataframe"><tr><td>log_as_dataframe</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Pull a log file into an R object</h2>

<h3>Description</h3>

<p>Log messages generated by logger with anything other than the standard
formatting options can have multiple formatting tags to display in the R
console. These &quot;junk up&quot; any resulting object. If you want to read it
directly in the console and preserve formatting, call [read_log] with the
default 'as_object' argument (FALSE). For deeper inspection, a data frame
works well, provided the formatting matches up. In 'env_logger.R' there is an
option to set formatting layouts. In addition to setting formatting layouts,
generate regex strings matching the desired format - 'log_remove_color' will
remove the colors (the majority should be caught by the string provided as
the default in this package) and 'log_split_column' will split the lines in
your logging file into discrete categories named by 'df_titles'.
</p>


<h3>Usage</h3>

<pre>
log_as_dataframe("log.txt")
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>file</code></td>
<td>
<p>CHR scalar file path to a log file (default NULL is translated as
&quot;log.txt&quot;)</p>
</td></tr>
<tr valign="top"><td><code>last_n</code></td>
<td>
<p>INT scalar of the last 'n' log entries to read.</p>
</td></tr>
<tr valign="top"><td><code>condense</code></td>
<td>
<p>LGL scalar of whether to nest the resulting tibble by the
nearest second.</p>
</td></tr>
<tr valign="top"><td><code>regex_remove</code></td>
<td>
<p>CHR scalar regular expression of characters to REMOVE
from log messages via [stringr::str_remove_all]</p>
</td></tr>
<tr valign="top"><td><code>regex_split</code></td>
<td>
<p>CHR scalar regular expression of characters used to split
the log entry into columns from log messages via [tidyr::separate]</p>
</td></tr>
<tr valign="top"><td><code>df_titles</code></td>
<td>
<p>CHR vector of headers for the resulting data frame, passed
as the &quot;into&quot; argument of [tidyr::separate]</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This will attempt to fail gracefully.
</p>


<h3>Value</h3>

<p>tibble with one row per log entry (or groups)
</p>


<h3>Note</h3>

<p>If &quot;time&quot; is included and 'condense' == TRUE, the log messages in the
resulting tibble will nested to the nearest second.
</p>
<p>If &quot;status&quot; is included it will be a factor with levels including the
valid statuses from logger (see [logger::log_levels]).
</p>
<p>Use care to develop 'regex_split' in order to split the log entries
into the appropriate columns as defined by 'df_titles'; extra
values will be merged into the messages column.
</p>


</body></html>
